{% extends "base.html" %}

{% block content %}
<div class="jumbotron">
    <div class="container">
        <h1>加入 ACM Dojo 训练营</h1>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-8 offset-md-2">
            {% include "components/errors.html" %}

            <p>这里提供 Linux Shell 命令和 Git 操作的实践训练。
            作为课程的一部分，你在此平台上的学习将有助于你的理解和评估。
            请维护学术诚信：</p>
            <ul>
                <li>独立完成挑战以建立真正的技能</li>
                <li>不与其他学生分享完整解决方案</li>
                <li>将协作用于 学习 而非 抄袭</li>
                <li>向助教团队报告任何技术问题</li>
            </ul>

            <p>如果你在平台上遇到技术问题或对练习有疑问，
            请通过课程沟通渠道联系你的助教。我们会及时提供帮助！</p>

            {% with form = Forms.auth.RegistrationForm() %}
            {% from "macros/forms.html" import render_extra_fields %}
            <form method="post" accept-charset="utf-8" autocomplete="off" role="form" id="registration-form">
                <div class="form-group">
                    <b><i class="fas fa-user"></i> {{ form.name.label }}</b>
                    {{ form.name(class="form-control", value=name, placeholder="选择一个用户名") }}
                    <small class="form-text text-muted">
                        你在平台上的唯一标识符（对教师可见）
                    </small>
                </div>
                <div class="form-group">
                    <b><i class="fas fa-envelope"></i> {{ form.email.label }}</b>
                    {{ form.email(class="form-control", value=email, placeholder="your.email@sjtu.edu.cn") }}
                    <small class="form-text text-muted">
                        使用你的 SJTU 邮箱地址（用于辨认）
                    </small>
                </div>
                <div class="form-group">
                    <b><i class="fas fa-lock"></i> {{ form.password.label }}</b>
                    {{ form.password(class="form-control", value=password, placeholder="创建一个安全密码") }}
                    <small class="form-text text-muted">
                        为你的账户安全选择一个强密码
                    </small>
                </div>

                {{ form.nonce() }}

                {{ render_extra_fields(form.extra) }}

                <div class="row pt-3">
                    <div class="col-md-12">
                        {{ form.submit(class="btn btn-lg btn-primary btn-block", id="register-submit") }}
                    </div>
                </div>

                {% if Configs.tos_or_privacy %}
                <div class="row pt-3">
                    <div class="col-md-12 text-center">
                        <small class="text-muted text-center">
                            注册即表示你同意
                            <a href="{{ Configs.privacy_link }}" rel="noopener" target="_blank">隐私政策</a>
                            和 <a href="{{ Configs.tos_link }}" rel="noopener" target="_blank">服务条款</a>
                        </small>
                    </div>
                </div>
                {% endif %}
            </form>
            {% endwith %}
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<style>
.btn-primary {
    background-color: #007bff;
    border-color: #007bff;
}

.btn-primary:hover {
    background-color: #0056b3;
    border-color: #004085;
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const registerButton = document.getElementById('register-submit');
    
    // 设置按钮文本
    registerButton.innerHTML = '<i class="fas fa-rocket"></i> 加入 ACM Dojo 训练营';
});
</script>
{% endblock %}